{
    "nodes": [
      {
        "id": "tp-1",
        "referenceId": "tp_mr_view",
        "type": "touchpoint",
        "x": -9.055244195356101,
        "y": 61.84147317854337,
        "customLabel": "Headset Passthrough View",
        "notes": "Real-world camera feed composited with virtual content (MR)",
        "measuredW": 140,
        "measuredH": 35
      },
      {
        "id": "data-1",
        "referenceId": "data_rgb",
        "type": "data",
        "x": 212.35152495894445,
        "y": -44.764277030089175,
        "customLabel": "RGB Camera Frames",
        "notes": "Forward-facing passthrough cameras (per-eye or stereo pipeline)",
        "attachments": [
          {
            "id": "att-1",
            "referenceId": "const_privacy",
            "type": "constraint",
            "notes": "Prefer on-device processing; avoid raw frame retention"
          }
        ],
        "measuredW": 160,
        "measuredH": 82
      },
      {
        "id": "data-2",
        "referenceId": "data_imu",
        "type": "data",
        "x": 210.94475580464396,
        "y": 61.84147317854337,
        "customLabel": "IMU / Head Pose",
        "notes": "Gyro/accel + pose prediction for low-latency stabilization",
        "measuredW": 160,
        "measuredH": 42
      },
      {
        "id": "data-3",
        "referenceId": "data_depth",
        "type": "data",
        "x": 210.94475580464396,
        "y": 161.84147317854337,
        "customLabel": "Depth / Disparity",
        "notes": "Depth estimation from stereo/ML; used for occlusion & anchoring",
        "measuredW": 160,
        "measuredH": 42
      },
      {
        "id": "task-1",
        "referenceId": "task_track",
        "type": "task",
        "x": 540,
        "y": 230,
        "customLabel": "Track Headset (SLAM)",
        "capability": "Track / Localize",
        "notes": "Visual-inertial odometry + world locking (6DOF)",
        "attachments": [
          {
            "id": "att-2",
            "referenceId": "const_latency",
            "type": "constraint",
            "notes": "Motion-to-photon latency budget"
          }
        ],
        "measuredW": 220,
        "measuredH": 108
      },
      {
        "id": "task-2",
        "referenceId": "task_segment",
        "type": "task",
        "x": 540,
        "y": 380,
        "customLabel": "Understand Scene Geometry",
        "capability": "Detect / Segment / Reconstruct",
        "notes": "Planes (floor/walls/table), room mesh, bounds, occluders",
        "attachments": [
          {
            "id": "att-3",
            "referenceId": "data_mesh",
            "type": "data",
            "direction": "output",
            "notes": "Room mesh + planes + anchors"
          }
        ],
        "measuredW": 220,
        "measuredH": 138
      },
      {
        "id": "task-3",
        "referenceId": "task_estimate",
        "type": "task",
        "x": 816.9975980784628,
        "y": 137.99039231385112,
        "customLabel": "Estimate Lighting",
        "capability": "Estimate",
        "notes": "Ambient intensity + color temp for believable blending",
        "attachments": [
          {
            "id": "att-4",
            "referenceId": "data_light",
            "type": "data",
            "direction": "output",
            "notes": "Light probe / env params"
          }
        ],
        "measuredW": 220,
        "measuredH": 138
      },
      {
        "id": "task-4",
        "referenceId": "task_input",
        "type": "task",
        "x": 820,
        "y": 290,
        "customLabel": "Track Hands / Controllers",
        "capability": "Detect / Track",
        "notes": "Hand skeleton, pinch/pose; controller pose + buttons",
        "attachments": [
          {
            "id": "att-5",
            "referenceId": "data_hands",
            "type": "data",
            "direction": "output",
            "notes": "Hand joints + gestures"
          }
        ],
        "measuredW": 220,
        "measuredH": 125
      },
      {
        "id": "task-5",
        "referenceId": "task_place",
        "type": "task",
        "x": 820,
        "y": 440,
        "customLabel": "Anchor Virtual Content",
        "capability": "Place / Constrain",
        "notes": "Attach entities to planes/anchors; maintain stability across time",
        "attachments": [
          {
            "id": "att-6",
            "referenceId": "const_drift",
            "type": "constraint",
            "notes": "Handle anchor drift + relocalization"
          }
        ],
        "measuredW": 220,
        "measuredH": 108
      },
      {
        "id": "task-6",
        "referenceId": "task_simulate",
        "type": "task",
        "x": 1222.354497354497,
        "y": 122.53086419753137,
        "customLabel": "Simulate Gameplay + Physics",
        "capability": "Plan / Act",
        "notes": "NPC behavior, collisions with room mesh, scoring, events",
        "attachments": [
          {
            "id": "att-7",
            "referenceId": "data_state",
            "type": "data",
            "direction": "output",
            "notes": "World state graph (entities, events)"
          }
        ],
        "measuredW": 220,
        "measuredH": 125
      },
      {
        "id": "task-7",
        "referenceId": "task_compose",
        "type": "task",
        "x": 1532.1164021164018,
        "y": 49.46208112874839,
        "customLabel": "Composite Render (MR)",
        "capability": "Render / Compose",
        "notes": "Passthrough background + virtual layers + occlusion + shadows",
        "attachments": [
          {
            "id": "att-8",
            "referenceId": "const_comfort",
            "type": "constraint",
            "notes": "Avoid discomfort: stable horizon, minimize judder"
          },
          {
            "id": "att-9",
            "referenceId": "const_occlusion",
            "type": "constraint",
            "notes": "Depth-based occlusion: virtual goes behind real objects"
          }
        ],
        "measuredW": 220,
        "measuredH": 108
      },
      {
        "id": "tp-2",
        "referenceId": "tp_mr_output",
        "type": "touchpoint",
        "x": 1977.6190476190468,
        "y": 11.984126984127688,
        "customLabel": "User Sees MR Scene",
        "notes": "Real room + virtual characters/FX aligned to surfaces",
        "measuredW": 140,
        "measuredH": 35
      },
      {
        "id": "task-8",
        "referenceId": "task_safety",
        "type": "task",
        "x": 1828.633156966489,
        "y": 147.81305114638525,
        "customLabel": "Safety & Boundary Gate",
        "capability": "Monitor / Warn",
        "notes": "Guardian boundary, proximity warnings, passthrough clarity checks",
        "attachments": [
          {
            "id": "att-10",
            "referenceId": "const_safety",
            "type": "constraint",
            "notes": "If boundary breach risk: warn, fade content, or pause"
          }
        ],
        "measuredW": 220,
        "measuredH": 108
      },
      {
        "id": "task-9",
        "referenceId": "task_adapt",
        "type": "task",
        "x": 1861.8783068783064,
        "y": 293.3156966490304,
        "customLabel": "Adapt Performance",
        "capability": "Adapt",
        "notes": "Dynamic resolution, foveation, LOD, CPU/GPU budgeting",
        "attachments": [
          {
            "id": "att-11",
            "referenceId": "const_fps",
            "type": "constraint",
            "notes": "Maintain target FPS; degrade visuals before tracking quality"
          }
        ],
        "measuredW": 220,
        "measuredH": 121
      },
      {
        "id": "task-10",
        "referenceId": "task_log",
        "type": "task",
        "x": 1181.5696649029978,
        "y": 520,
        "customLabel": "Telemetry (Minimal)",
        "notes": "Perf + comfort signals + error states (avoid raw video logging)",
        "attachments": [
          {
            "id": "att-12",
            "referenceId": "const_data_min",
            "type": "constraint",
            "notes": "Data minimization + user consent"
          }
        ],
        "measuredW": 220,
        "measuredH": 82
      },
      {
        "id": "zone-1",
        "referenceId": "zone_group",
        "type": "annotation",
        "subType": "zone",
        "x": -36.77129357807213,
        "y": -52.88515821475479,
        "width": 437.71604938271605,
        "height": 277.32804232804256,
        "customLabel": "Inbound (Sensing)",
        "notes": "Cameras + IMU + depth signals",
        "measuredW": 438,
        "measuredH": 277
      },
      {
        "id": "zone-2",
        "referenceId": "zone_group",
        "type": "annotation",
        "subType": "zone",
        "x": 504.9879903923139,
        "y": 110.95276220976797,
        "width": 549.0232185748598,
        "height": 456.06084867894293,
        "customLabel": "Internal (World Model)",
        "notes": "Pose tracking, room mesh, anchors, lighting, input tracking",
        "measuredW": 549,
        "measuredH": 455
      },
      {
        "id": "zone-3",
        "referenceId": "zone_group",
        "type": "annotation",
        "subType": "zone",
        "x": 1202.354497354497,
        "y": 4.894179894180446,
        "width": 927.2398589065253,
        "height": 444.24162257495544,
        "customLabel": "Outbound (MR Output)",
        "notes": "Simulation + compositing + safety gating",
        "measuredW": 927,
        "measuredH": 445
      }
    ],
    "edges": [
      {
        "id": "e-1",
        "source": "tp-1",
        "target": "data-1"
      },
      {
        "id": "e-2",
        "source": "tp-1",
        "target": "data-2"
      },
      {
        "id": "e-3",
        "source": "tp-1",
        "target": "data-3"
      },
      {
        "id": "e-4",
        "source": "data-1",
        "target": "task-1",
        "customX": 486.99759807846283
      },
      {
        "id": "e-5",
        "source": "data-2",
        "target": "task-1",
        "customX": 468.4827862289833
      },
      {
        "id": "e-6",
        "source": "data-1",
        "target": "task-2",
        "customX": 426.9495596477184
      },
      {
        "id": "e-7",
        "source": "data-3",
        "target": "task-2",
        "customX": 445.9647718174541
      },
      {
        "id": "e-8",
        "source": "task-1",
        "target": "task-2",
        "label": "Pose informs reconstruction",
        "sourceX": 777.3862433862435,
        "customY": 541.1252204585537,
        "targetX": 516
      },
      {
        "id": "e-9",
        "source": "data-1",
        "target": "task-3"
      },
      {
        "id": "e-10",
        "source": "data-1",
        "target": "task-4",
        "customX": 803.6389111289027
      },
      {
        "id": "e-11",
        "source": "task-2",
        "target": "task-5"
      },
      {
        "id": "e-12",
        "source": "task-1",
        "target": "task-5",
        "customX": 795.5114638447972
      },
      {
        "id": "e-13",
        "source": "task-4",
        "target": "task-6",
        "customX": 1112.438271604938
      },
      {
        "id": "e-14",
        "source": "task-5",
        "target": "task-6",
        "customX": 1126.7680776014106
      },
      {
        "id": "e-15",
        "source": "task-6",
        "target": "task-7"
      },
      {
        "id": "e-16",
        "source": "task-2",
        "target": "task-7",
        "label": "Occlusion + shadows",
        "customX": 1189.5987654320984
      },
      {
        "id": "e-17",
        "source": "task-3",
        "target": "task-7",
        "label": "Lighting match",
        "customX": 1102.1275468346462
      },
      {
        "id": "e-18",
        "source": "data-1",
        "target": "task-7",
        "label": "Passthrough background",
        "customX": 1103.6972858710244
      },
      {
        "id": "e-19",
        "source": "task-7",
        "target": "tp-2"
      },
      {
        "id": "e-20",
        "source": "task-7",
        "target": "task-8",
        "customX": 1805.8068783068775
      },
      {
        "id": "e-21",
        "source": "task-8",
        "target": "tp-2",
        "label": "Warn/fade/pause overlay",
        "customY": 81.19576719576855,
        "sourceX": 2116.7248677248663
      },
      {
        "id": "e-22",
        "source": "task-7",
        "target": "task-9",
        "customX": 1792.1164021164016
      },
      {
        "id": "e-23",
        "source": "task-9",
        "target": "task-7",
        "label": "Adjust quality settings",
        "customY": 436.0202821869492,
        "targetX": 1503.7072310405638
      },
      {
        "id": "e-24",
        "source": "task-6",
        "target": "task-10",
        "customY": 459.1216931216936,
        "sourceX": 1459.7407407407404
      },
      {
        "id": "e-25",
        "source": "task-7",
        "target": "task-10",
        "customY": 495.4973544973549
      },
      {
        "id": "e-26",
        "source": "task-8",
        "target": "task-10",
        "customY": 477.860670194004,
        "sourceX": 2118.929453262785
      }
    ],
    "personas": [
      {
        "id": "p-user",
        "name": "Player",
        "role": "Moves, interacts (hands/controllers), responds to safety prompts",
        "color": "#10B981",
        "initials": "PL",
        "category": "human"
      },
      {
        "id": "p-system",
        "name": "MR Runtime",
        "role": "Tracks, reconstructs, composes, enforces safety/comfort",
        "color": "#3B82F6",
        "initials": "MR",
        "category": "system"
      }
    ]
  }