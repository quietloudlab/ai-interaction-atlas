{
  "nodes": [
    {
      "id": "maps-1",
      "referenceId": "human_select_option",
      "type": "task",
      "x": 50,
      "y": 320,
      "customLabel": "Set Destination",
      "notes": "User searches & selects a destination.",
      "attachments": [
        {
          "id": "maps-1-a",
          "referenceId": "data_text",
          "type": "data",
          "direction": "output",
          "notes": "Destination place ID / address"
        }
      ],
      "measuredW": 220,
      "measuredH": 113,
      "personaId": "persona-driver"
    },
    {
      "id": "maps-2",
      "referenceId": "task_monitor",
      "type": "task",
      "x": 320,
      "y": 240,
      "customLabel": "Monitor Live Traffic + GPS",
      "notes": "Continuous stream: location, speed, incidents.",
      "attachments": [
        {
          "id": "maps-2-a",
          "referenceId": "data_sensor_stream",
          "type": "data",
          "direction": "output",
          "notes": "GPS + speed telemetry"
        },
        {
          "id": "maps-2-b",
          "referenceId": "data_signal",
          "type": "data",
          "direction": "output",
          "notes": "Traffic change event"
        }
      ],
      "measuredW": 220,
      "measuredH": 113
    },
    {
      "id": "maps-3",
      "referenceId": "system_load_db",
      "type": "task",
      "x": 320,
      "y": 400,
      "customLabel": "Load Map Graph + Constraints",
      "notes": "Road network, closures, tolls, user prefs.",
      "attachments": [
        {
          "id": "maps-3-a",
          "referenceId": "data_knowledge_graph",
          "type": "data",
          "direction": "output",
          "notes": "Road network graph"
        },
        {
          "id": "maps-3-b",
          "referenceId": "data_preference_profile",
          "type": "data",
          "direction": "output",
          "notes": "Avoid tolls/highways etc."
        }
      ],
      "measuredW": 220,
      "measuredH": 113
    },
    {
      "id": "maps-4",
      "referenceId": "task_estimate",
      "type": "task",
      "x": 590,
      "y": 240,
      "customLabel": "Estimate ETA",
      "capability": "Regression-like prediction",
      "notes": "Predict travel time given traffic + route conditions.",
      "attachments": [
        {
          "id": "maps-4-a",
          "referenceId": "data_score",
          "type": "data",
          "direction": "output",
          "notes": "ETA minutes + confidence"
        }
      ],
      "measuredW": 220,
      "measuredH": 138
    },
    {
      "id": "maps-5",
      "referenceId": "task_plan",
      "type": "task",
      "x": 590,
      "y": 400,
      "customLabel": "Plan Best Route",
      "notes": "Compute candidate routes; optimize time vs prefs.",
      "attachments": [
        {
          "id": "maps-5-a",
          "referenceId": "data_trajectory",
          "type": "data",
          "direction": "output",
          "notes": "Route polyline + steps"
        },
        {
          "id": "maps-5-b",
          "referenceId": "const_latency",
          "type": "constraint",
          "notes": "Replan within 1–3s when conditions change"
        }
      ],
      "measuredW": 220,
      "measuredH": 159
    },
    {
      "id": "maps-6",
      "referenceId": "system_rules",
      "type": "task",
      "x": 860,
      "y": 320,
      "customLabel": "Reroute Decision Gate",
      "notes": "Only reroute if improvement is meaningful and safe.",
      "attachments": [
        {
          "id": "maps-6-a",
          "referenceId": "const_confidence",
          "type": "constraint",
          "notes": "Trigger if confidence > 0.7"
        },
        {
          "id": "maps-6-b",
          "referenceId": "const_format",
          "type": "constraint",
          "notes": "Only reroute if saves > 2–3 minutes (configurable)"
        }
      ],
      "measuredW": 220,
      "measuredH": 118
    },
    {
      "id": "maps-7",
      "referenceId": "tp_mobile",
      "type": "touchpoint",
      "x": 1314.6645435596813,
      "y": 251.54583127591332,
      "customLabel": "Navigation UI",
      "notes": "Shows ETA + banner: 'Faster route found'.",
      "measuredW": 140,
      "measuredH": 35,
      "personaId": "persona-driver"
    },
    {
      "id": "maps-8",
      "referenceId": "human_select_option",
      "type": "task",
      "x": 1310,
      "y": 320,
      "customLabel": "Accept Reroute / Ignore",
      "notes": "Driver taps or continues.",
      "attachments": [
        {
          "id": "maps-8-a",
          "referenceId": "data_signal",
          "type": "data",
          "direction": "output",
          "notes": "accept | ignore"
        }
      ],
      "measuredW": 220,
      "measuredH": 113,
      "personaId": "persona-driver"
    },
    {
      "id": "maps-9",
      "referenceId": "system_log",
      "type": "task",
      "x": 1575.560948472123,
      "y": 332.800445057182,
      "customLabel": "Log Trip Outcomes",
      "notes": "Actual vs predicted ETA; reroute accept rate.",
      "measuredW": 220,
      "measuredH": 87
    },
    {
      "id": "maps-10",
      "referenceId": "task_adapt",
      "type": "task",
      "x": 1570.2340866386708,
      "y": 451.4929977233726,
      "customLabel": "Adapt Route Preferences",
      "notes": "Learn user tolerance: highways, surface streets, reroute frequency.",
      "measuredW": 220,
      "measuredH": 87
    },
    {
      "id": "maps-zone-1",
      "referenceId": "zone_group",
      "type": "annotation",
      "subType": "zone",
      "x": 280,
      "y": 200,
      "width": 850,
      "height": 390,
      "customLabel": "Continuous Replanning Loop",
      "notes": "Monitor → estimate → plan → gate (repeats while driving)",
      "measuredW": 850,
      "measuredH": 390
    },
    {
      "id": "maps-note-1",
      "referenceId": "zone_group",
      "type": "annotation",
      "subType": "note",
      "x": 283.67186578595675,
      "y": 54.81977106208441,
      "width": 440,
      "height": 110,
      "customLabel": "Maps ETA + Reroute on Traffic Change",
      "notes": "This is planning + monitoring + a human override, not “AI decides route.” The gate is the product.",
      "measuredW": 440,
      "measuredH": 110
    }
  ],
  "edges": [
    {
      "id": "maps-e1",
      "source": "maps-1",
      "target": "maps-3"
    },
    {
      "id": "maps-e2",
      "source": "maps-2",
      "target": "maps-4"
    },
    {
      "id": "maps-e3",
      "source": "maps-2",
      "target": "maps-5",
      "customX": 557.8975175553969
    },
    {
      "id": "maps-e4",
      "source": "maps-3",
      "target": "maps-5",
      "customX": 557.8975175553969
    },
    {
      "id": "maps-e5",
      "source": "maps-5",
      "target": "maps-6"
    },
    {
      "id": "maps-e6",
      "source": "maps-4",
      "target": "maps-6"
    },
    {
      "id": "maps-e7",
      "source": "maps-6",
      "target": "maps-7",
      "label": "If reroute recommended"
    },
    {
      "id": "maps-e8",
      "source": "maps-7",
      "target": "maps-8",
      "customY": 302.0210068298821
    },
    {
      "id": "maps-e9",
      "source": "maps-8",
      "target": "maps-9"
    },
    {
      "id": "maps-e10",
      "source": "maps-9",
      "target": "maps-10",
      "sourceX": 1822.2243793888492,
      "customY": 433.8311591368856
    },
    {
      "id": "maps-e11",
      "source": "maps-10",
      "target": "maps-3",
      "label": "Preference loop",
      "customY": 616.4029275017851
    }
  ],
  "personas": [
    {
      "id": "persona-driver",
      "name": "Driver",
      "role": "Navigating in real time",
      "color": "#10B981",
      "initials": "D",
      "category": "human"
    }
  ]
}