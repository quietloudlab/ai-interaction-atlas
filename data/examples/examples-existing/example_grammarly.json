{
    "nodes": [
      {
        "id": "gr-1",
        "referenceId": "tp_embedded",
        "type": "touchpoint",
        "x": 1.1209036039644644,
        "y": 334.0948315482216,
        "customLabel": "Inline Editor Integration",
        "notes": "Browser extension / app plugin; operates inside a writing surface.",
        "measuredW": 140,
        "measuredH": 35,
        "personaId": "persona-writer"
      },
      {
        "id": "gr-2",
        "referenceId": "human_type_input",
        "type": "task",
        "x": 171.12090360396445,
        "y": 319.0948315482216,
        "customLabel": "Write Draft Text",
        "notes": "User writes; system observes content and cursor context.",
        "attachments": [
          {
            "id": "gr-2-a",
            "referenceId": "data_text",
            "type": "data",
            "direction": "output",
            "notes": "Draft text + selection"
          }
        ],
        "measuredW": 220,
        "measuredH": 113,
        "personaId": "persona-writer"
      },
      {
        "id": "gr-3",
        "referenceId": "task_classify",
        "type": "task",
        "x": 490,
        "y": 240,
        "customLabel": "Detect Issues",
        "capability": "Text Classification",
        "notes": "Identify grammar/spelling + tone issues (e.g., too harsh, too casual).",
        "attachments": [
          {
            "id": "gr-3-a",
            "referenceId": "data_classification",
            "type": "data",
            "direction": "output",
            "notes": "Issue labels + severity"
          }
        ],
        "measuredW": 220,
        "measuredH": 138
      },
      {
        "id": "gr-4",
        "referenceId": "task_transform",
        "type": "task",
        "x": 490,
        "y": 400,
        "customLabel": "Propose Rewrites",
        "capability": "Text Style Transfer",
        "notes": "Generate alternative phrasings that preserve meaning.",
        "attachments": [
          {
            "id": "gr-4-a",
            "referenceId": "const_format",
            "type": "constraint",
            "notes": "Preserve intent; no added facts"
          }
        ],
        "measuredW": 220,
        "measuredH": 121
      },
      {
        "id": "gr-5",
        "referenceId": "task_verify",
        "type": "task",
        "x": 746.4224732233234,
        "y": 384.26696007626896,
        "customLabel": "Meaning Preservation Check",
        "notes": "Verify rewrite doesn’t change meaning beyond tolerance.",
        "attachments": [
          {
            "id": "gr-5-a",
            "referenceId": "const_confidence",
            "type": "constraint",
            "notes": "Only show suggestions if > 0.8"
          }
        ],
        "measuredW": 220,
        "measuredH": 96
      },
      {
        "id": "gr-6",
        "referenceId": "system_rules",
        "type": "task",
        "x": 1030,
        "y": 306.42247322332344,
        "customLabel": "Suggestion Gate",
        "notes": "Bundle suggestions; avoid overload; prioritize top 1–3.",
        "attachments": [
          {
            "id": "gr-6-a",
            "referenceId": "const_latency",
            "type": "constraint",
            "notes": "Inline suggestions must feel instantaneous"
          }
        ],
        "measuredW": 220,
        "measuredH": 96
      },
      {
        "id": "gr-7",
        "referenceId": "tp_embedded",
        "type": "touchpoint",
        "x": 1419.4822356347536,
        "y": 215.51776436524648,
        "customLabel": "Suggestion Underlines + Card",
        "notes": "Highlights issues; card shows rewrite options + tone label.",
        "measuredW": 140,
        "measuredH": 35,
        "personaId": "persona-writer"
      },
      {
        "id": "gr-8",
        "referenceId": "human_select_option",
        "type": "task",
        "x": 1439.2242726395332,
        "y": 285.3447166497962,
        "customLabel": "Apply Suggestion / Dismiss",
        "notes": "User accepts rewrite or ignores.",
        "attachments": [
          {
            "id": "gr-8-a",
            "referenceId": "data_signal",
            "type": "data",
            "direction": "output",
            "notes": "apply | dismiss"
          }
        ],
        "measuredW": 220,
        "measuredH": 113,
        "personaId": "persona-writer"
      },
      {
        "id": "gr-9",
        "referenceId": "human_edit",
        "type": "task",
        "x": 1437.4139357359763,
        "y": 418.18966309644316,
        "customLabel": "Manual Edit (Optional)",
        "notes": "User tweaks rewrite for voice/control.",
        "measuredW": 220,
        "measuredH": 87,
        "personaId": "persona-writer"
      },
      {
        "id": "gr-10",
        "referenceId": "system_log",
        "type": "task",
        "x": 1740,
        "y": 260,
        "customLabel": "Log Suggestion Outcomes",
        "notes": "Which suggestions helped vs annoyed; per-context patterns.",
        "measuredW": 220,
        "measuredH": 87
      },
      {
        "id": "gr-11",
        "referenceId": "task_adapt",
        "type": "task",
        "x": 1751.7671898731196,
        "y": 397.3707887055391,
        "customLabel": "Adapt Writing Profile",
        "notes": "Learn preferred tone, verbosity, and rewrite aggressiveness.",
        "measuredW": 220,
        "measuredH": 87
      },
      {
        "id": "gr-zone-1",
        "referenceId": "zone_group",
        "type": "annotation",
        "subType": "zone",
        "x": 460.0431470304372,
        "y": 200,
        "width": 830.6894332995923,
        "height": 389.0948315482216,
        "customLabel": "Inline Assistance Pipeline",
        "notes": "Detect → Transform → Verify → Gate",
        "measuredW": 830,
        "measuredH": 389
      },
      {
        "id": "gr-note-1",
        "referenceId": "zone_group",
        "type": "annotation",
        "subType": "note",
        "x": -127.09777074337748,
        "y": 171.59707909607673,
        "width": 520,
        "height": 110,
        "customLabel": "Grammarly \"inline rewrite + tone suggestions\"",
        "notes": "This shows the difference between “rewrite” and “rewrite responsibly”: meaning-check + overload gate + human control + learning.",
        "measuredW": 520,
        "measuredH": 110
      }
    ],
    "edges": [
      {
        "id": "gr-e1",
        "source": "gr-1",
        "target": "gr-2"
      },
      {
        "id": "gr-e2",
        "source": "gr-2",
        "target": "gr-3"
      },
      {
        "id": "gr-e3",
        "source": "gr-2",
        "target": "gr-4"
      },
      {
        "id": "gr-e4",
        "source": "gr-3",
        "target": "gr-6"
      },
      {
        "id": "gr-e5",
        "source": "gr-4",
        "target": "gr-5"
      },
      {
        "id": "gr-e6",
        "source": "gr-5",
        "target": "gr-6",
        "customX": 987.3492151903205
      },
      {
        "id": "gr-e7",
        "source": "gr-6",
        "target": "gr-7"
      },
      {
        "id": "gr-e8",
        "source": "gr-7",
        "target": "gr-8",
        "customY": 271.58675365457583
      },
      {
        "id": "gr-e9",
        "source": "gr-8",
        "target": "gr-10"
      },
      {
        "id": "gr-e10",
        "source": "gr-9",
        "target": "gr-10",
        "customX": 1714.0948315482217
      },
      {
        "id": "gr-e11",
        "source": "gr-10",
        "target": "gr-11",
        "sourceX": 2002.1033690355687,
        "customY": 381.47484713166,
        "targetX": 1727.7671898731196
      },
      {
        "id": "gr-e12",
        "source": "gr-11",
        "target": "gr-6",
        "label": "Personalization loop",
        "customY": 560.6982005837903
      }
    ],
    "personas": [
      {
        "id": "persona-writer",
        "name": "Writer",
        "role": "Creates and refines text",
        "color": "#3B82F6",
        "initials": "W",
        "category": "human"
      }
    ]
  }