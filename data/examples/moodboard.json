{
  "nodes": [
    {
      "id": "tp-1",
      "referenceId": "tp_web",
      "type": "touchpoint",
      "x": 40,
      "y": 120,
      "customLabel": "Moodboard Canvas",
      "notes": "Drag images in, pin references, arrange composition"
    },
    {
      "id": "node-1",
      "referenceId": "human_upload_file",
      "type": "task",
      "x": 240,
      "y": 120,
      "customLabel": "Add Reference Images",
      "notes": "Photos, textures, posters, screenshots",
      "attachments": [
        { "id": "att-1-1", "referenceId": "data_image", "type": "data", "direction": "output", "notes": "Reference set" }
      ],
      "measuredW": 220,
      "measuredH": 120,
      "personaId": "persona-designer"
    },
    {
      "id": "node-2",
      "referenceId": "task_segment",
      "type": "task",
      "x": 520,
      "y": 120,
      "customLabel": "Cut Out Subjects / Shapes",
      "capability": "Mask Generation",
      "notes": "Auto-segment subjects to make collage pieces",
      "attachments": [
        { "id": "att-2-1", "referenceId": "data_mask", "type": "data", "direction": "output", "notes": "Masks per image" },
        { "id": "att-2-2", "referenceId": "const_human_loop", "type": "constraint", "notes": "Always allow manual brush refinement" }
      ],
      "measuredW": 220,
      "measuredH": 145
    },
    {
      "id": "node-3",
      "referenceId": "human_edit",
      "type": "task",
      "x": 800,
      "y": 120,
      "customLabel": "Refine Masks",
      "notes": "Brush cleanup for edges / hair / tricky regions",
      "measuredW": 220,
      "measuredH": 105,
      "personaId": "persona-designer"
    },
    {
      "id": "node-4",
      "referenceId": "task_transform",
      "type": "task",
      "x": 1080,
      "y": 120,
      "customLabel": "Style / Material Variations",
      "capability": "Image-to-Image",
      "notes": "Try 6 visual directions without destroying the base composition",
      "attachments": [
        { "id": "att-4-1", "referenceId": "const_prompt_template", "type": "constraint", "notes": "Style prompts: ‘paper cutout’, ‘photocopy zine’, ‘glossy product’, ‘dream haze’" },
        { "id": "att-4-2", "referenceId": "const_latency", "type": "constraint", "notes": "Keep iterations < 10s each (creative flow)" }
      ],
      "measuredW": 220,
      "measuredH": 150
    },
    {
      "id": "node-5",
      "referenceId": "task_rank",
      "type": "task",
      "x": 1360,
      "y": 120,
      "customLabel": "Rank Variations by Fit",
      "notes": "Order outputs based on user’s stated intent (e.g., ‘quiet, tense, clinical’)",
      "attachments": [
        { "id": "att-5-1", "referenceId": "data_score", "type": "data", "direction": "output", "notes": "Rank scores per variant" }
      ],
      "measuredW": 220,
      "measuredH": 130
    },
    {
      "id": "node-6",
      "referenceId": "human_select_option",
      "type": "task",
      "x": 1640,
      "y": 120,
      "customLabel": "Pick Direction",
      "notes": "Human selects top 1–2 directions to push further",
      "measuredW": 220,
      "measuredH": 110,
      "personaId": "persona-designer"
    },
    {
      "id": "node-7",
      "referenceId": "system_save_db",
      "type": "task",
      "x": 1920,
      "y": 120,
      "customLabel": "Save as ‘Style Recipe’",
      "notes": "Store prompts + masks + chosen direction as reusable recipe",
      "attachments": [
        { "id": "att-7-1", "referenceId": "data_config", "type": "data", "direction": "output", "notes": "Recipe: masks + prompts + parameters" }
      ],
      "measuredW": 220,
      "measuredH": 120
    },
    {
      "id": "zone-1",
      "referenceId": "zone_group",
      "type": "annotation",
      "subType": "zone",
      "x": 20,
      "y": 70,
      "width": 2140,
      "height": 220,
      "customLabel": "Visual Iteration Loop (Fast + Reversible)",
      "notes": "Segmentation + transform enables exploration without committing too early",
      "measuredW": 2140,
      "measuredH": 220
    },
    {
      "id": "note-1",
      "referenceId": "zone_group",
      "type": "annotation",
      "subType": "note",
      "x": 60,
      "y": 320,
      "width": 460,
      "height": 110,
      "customLabel": "STICKY: ‘Don’t destroy the original’",
      "notes": "Transform outputs must be non-destructive; always keep a clean base layer.",
      "measuredW": 460,
      "measuredH": 110
    }
  ],
  "edges": [
    { "id": "edge-1", "source": "tp-1", "target": "node-1" },
    { "id": "edge-2", "source": "node-1", "target": "node-2" },
    { "id": "edge-3", "source": "node-2", "target": "node-3" },
    { "id": "edge-4", "source": "node-3", "target": "node-4" },
    { "id": "edge-5", "source": "node-4", "target": "node-5" },
    { "id": "edge-6", "source": "node-5", "target": "node-6" },
    { "id": "edge-7", "source": "node-6", "target": "node-7" }
  ],
  "personas": [
    {
      "id": "persona-designer",
      "name": "Designer",
      "role": "Owns composition + taste decisions",
      "color": "#3B82F6",
      "initials": "D",
      "category": "human"
    }
  ]
}
